



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../favicon.ico">
      <meta name="generator" content="mkdocs-1.0.1, mkdocs-material-3.0.6">
    
    
      
        <title>Etcd - Skipper</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.451f80e5.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="white" data-md-color-accent="">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#etcd" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../.." title="Skipper" class="md-header-nav__button md-logo">
          
            <img src="../../favicon.ico" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Skipper
              </span>
              <span class="md-header-nav__topic">
                Etcd
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/zalando/skipper/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  <li class="md-tabs__item">
    
      <a href="../.." title="Introduction" class="md-tabs__link">
        Introduction
      </a>
    
  </li>

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../reference/filters/" title="Reference" class="md-tabs__link md-tabs__link--active">
          Reference
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../kubernetes/ingress-controller/" title="Kubernetes" class="md-tabs__link">
          Kubernetes
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../tutorials/basics/" title="Tutorials" class="md-tabs__link">
          Tutorials
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../.." title="Skipper" class="md-nav__button md-logo">
      
        <img src="../../favicon.ico" width="48" height="48">
      
    </a>
    Skipper
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/zalando/skipper/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Introduction" class="md-nav__link">
      Introduction
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Reference
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Reference
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../reference/filters/" title="Filters" class="md-nav__link">
      Filters
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../reference/predicates/" title="Predicates" class="md-nav__link">
      Predicates
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../reference/backends/" title="Backends" class="md-nav__link">
      Backends
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../reference/scripts/" title="Scripts" class="md-nav__link">
      Scripts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../reference/plugins/" title="Plugins" class="md-nav__link">
      Plugins
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../reference/architecture/" title="Architecture" class="md-nav__link">
      Architecture
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../reference/development/" title="Development" class="md-nav__link">
      Development
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/video-howto-build/" title="Video - How to build" class="md-nav__link">
      Video - How to build
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-9" type="checkbox" id="nav-2-9" checked>
    
    <label class="md-nav__link" for="nav-2-9">
      Data Clients
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-9">
        Data Clients
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../eskip-file/" title="Eskip File" class="md-nav__link">
      Eskip File
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Etcd
      </label>
    
    <a href="./" title="Etcd" class="md-nav__link md-nav__link--active">
      Etcd
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#why-storing-skipper-routes-in-etcd" title="Why storing Skipper routes in etcd?" class="md-nav__link">
    Why storing Skipper routes in etcd?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#starting-skipper-with-etcd" title="Starting Skipper with etcd" class="md-nav__link">
    Starting Skipper with etcd
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#etcd-version" title="etcd version" class="md-nav__link">
    etcd version
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storage-schema" title="Storage schema" class="md-nav__link">
    Storage schema
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#maintaining-route-configuration-in-etcd" title="Maintaining route configuration in etcd" class="md-nav__link">
    Maintaining route configuration in etcd
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../kubernetes/" title="Kubernetes" class="md-nav__link">
      Kubernetes
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../route-string/" title="Route String" class="md-nav__link">
      Route String
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-10" type="checkbox" id="nav-2-10">
    
    <label class="md-nav__link" for="nav-2-10">
      Operation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-10">
        Operation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../operation/deployment/" title="Deployment" class="md-nav__link">
      Deployment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../operation/operation/" title="Operation" class="md-nav__link">
      Operation
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Kubernetes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Kubernetes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../kubernetes/ingress-controller/" title="Ingress Controller Deployment" class="md-nav__link">
      Ingress Controller Deployment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../kubernetes/ingress-usage/" title="Ingress Usage" class="md-nav__link">
      Ingress Usage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../kubernetes/ingress-backends/" title="Ingress Backends" class="md-nav__link">
      Ingress Backends
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../kubernetes/east-west-usage/" title="East-West aka svc-to-svc" class="md-nav__link">
      East-West aka svc-to-svc
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Tutorials
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Tutorials
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/basics/" title="Basics" class="md-nav__link">
      Basics
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/common-use-cases/" title="Common Use Cases" class="md-nav__link">
      Common Use Cases
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/development/" title="Development" class="md-nav__link">
      Development
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/auth/" title="Authentication and Autorization" class="md-nav__link">
      Authentication and Autorization
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../tutorials/ratelimit/" title="Ratelimits" class="md-nav__link">
      Ratelimits
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#why-storing-skipper-routes-in-etcd" title="Why storing Skipper routes in etcd?" class="md-nav__link">
    Why storing Skipper routes in etcd?
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#starting-skipper-with-etcd" title="Starting Skipper with etcd" class="md-nav__link">
    Starting Skipper with etcd
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#etcd-version" title="etcd version" class="md-nav__link">
    etcd version
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#storage-schema" title="Storage schema" class="md-nav__link">
    Storage schema
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#maintaining-route-configuration-in-etcd" title="Maintaining route configuration in etcd" class="md-nav__link">
    Maintaining route configuration in etcd
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/zalando/skipper/edit/master/docs/data-clients/etcd.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="etcd">etcd<a class="headerlink" href="#etcd" title="Permanent link">&para;</a></h1>
<p>etcd is an open-source distributed key value store:
<a href="https://github.com/etcd-io/etcd">https://github.com/etcd-io/etcd</a>. Skipper can use it as a route configuration
storage and continuously synchronize the routing from etcd.</p>
<h2 id="why-storing-skipper-routes-in-etcd">Why storing Skipper routes in etcd?<a class="headerlink" href="#why-storing-skipper-routes-in-etcd" title="Permanent link">&para;</a></h2>
<p>When running multiple Skipper instances, changing the configuration of each instance by accessing the instances
directly on the fly can be complex and error-prone. With etcd, we need to update the routes only in etcd and
each Skipper instance will synchronize its routing from the new version.</p>
<p>Further benefits of using etcd are improved resiliency and the usage of a standard configuration storage for
various system components of a distributed system, not only Skipper.</p>
<p><em>Note</em>: in case of Kubernetes, the standard recommended way is to use the <a href="../kubernetes/">Kubernetes Ingress
API</a>.</p>
<h2 id="starting-skipper-with-etcd">Starting Skipper with etcd<a class="headerlink" href="#starting-skipper-with-etcd" title="Permanent link">&para;</a></h2>
<p>Example:</p>
<div class="codehilite"><pre><span></span>skipper -etcd-urls http://localhost:2379,http://localhost:4001
</pre></div>

<p>An additional startup option is the <code>-etcd-prefix</code>. When using multiple Skipper deployments with different
purpose, this option allows us to store separate configuration sets for them in the same etcd cluster. Example:</p>
<div class="codehilite"><pre><span></span>skipper -etcd-urls https://cluster-config -etcd-prefix skipper1
</pre></div>

<p><em>Note</em>: when the etcd URL points to an <a href="https://coreos.com/etcd/docs/latest/v2/proxy.html">etcd proxy</a>, Skipper
will internally use the proxy only to resolve the URLs of the etcd replicas, and access them for the route
configuration directly.</p>
<h2 id="etcd-version">etcd version<a class="headerlink" href="#etcd-version" title="Permanent link">&para;</a></h2>
<p>Skipper uses currently the V2 API of etcd.</p>
<h2 id="storage-schema">Storage schema<a class="headerlink" href="#storage-schema" title="Permanent link">&para;</a></h2>
<p>Skipper expects to find the route configuration by default at the <code>/v2/keys/skipper/routes</code> path. In this path,
the &lsquo;skipper&rsquo; segment can be optionally overridden by the <code>-etcd-prefix</code> startup option.</p>
<p>The <code>/v2/keys/skipper/routes</code> node is a directory that contains the routes as individual child nodes, accessed
by the path <code>/v2/keys/skipper/routes/&lt;routeID&gt;</code>. The value of the route nodes is the route expression without
the route ID in <a href="https://godoc.org/github.com/zalando/skipper/eskip">eskip format</a>.</p>
<h2 id="maintaining-route-configuration-in-etcd">Maintaining route configuration in etcd<a class="headerlink" href="#maintaining-route-configuration-in-etcd" title="Permanent link">&para;</a></h2>
<p>etcd (v2) allows generic access to its API via the HTTP protocol. It also provides a supporting client tool:
etcdctl. Following the above described schema, both of them can be used to maintain Skipper routes. In addition,
Skipper also provides a supporting client tool: <a href="https://godoc.org/github.com/zalando/skipper/cmd/eskip">eskip</a>,
which can provide more convenient access to the routes in etcd.</p>
<p>Getting all routes, a single route, insert or update and delete via HTTP:</p>
<div class="codehilite"><pre><span></span>curl http://localhost:2379/v2/keys/skipper/routes
curl http://localhost:2379/v2/keys/skipper/routes/hello
curl -X PUT -d &#39;value=* -&gt; status(200) -&gt; inlineContent(&quot;Hello, world!&quot;) -&gt; &lt;shunt&gt;&#39; http://localhost:2379/v2/keys/skipper/routes/hello
curl -X DELETE http://localhost:2379/v2/keys/skipper/routes/hello
</pre></div>

<p>Getting all route IDs, a route expression stored with an ID, insert or update and delete with etcdctl:</p>
<div class="codehilite"><pre><span></span>etcdctl --endpoints http://localhost:2379,http://localhost:4001 ls /skipper/routes
etcdctl --endpoints http://localhost:2379,http://localhost:4001 get /skipper/routes/hello
etcdctl --endpoints http://localhost:2379,http://localhost:4001 set -- /skipper/routes/hello &#39;* -&gt; status(200) -&gt; inlineContent(&quot;Hello, world!&quot;) -&gt; &lt;shunt&gt;&#39;
etcdctl --endpoints http://localhost:2379,http://localhost:4001 rm /skipper/routes/bello
</pre></div>

<p>We use the name &lsquo;eskip&rsquo; for two related concepts: the eskip syntax of route configuration and the eskip command
line tool. The command line tool can be used to check the syntax of skipper routes, format route files, prepend
or append filters to multiple routes, and also to access etcd.</p>
<p>Getting all routes, a single route, insert or update and delete with eskip:</p>
<div class="codehilite"><pre><span></span>eskip print -etcd-urls http://localhost:2379,http://localhost:4001
eskip print -etcd-urls http://localhost:2379,http://localhost:4001 | grep hello
eskip upsert -etcd-urls http://localhost:2379,http://localhost:4001 -routes &#39;hello: * -&gt; status(200) -&gt; inlineContent(&quot;Hello, world!&quot;) -&gt; &lt;shunt&gt;&#39;
eskip delete -etcd-urls http://localhost:2379,http://localhost:4001 -ids hello
</pre></div>

<p>When storing multiple configuration sets in etcd, we can use the <code>-etcd-prefix</code> to distinguish between them.</p>
<p>Instead of using routes inline, it may be more convenient to edit them in a file and store them in etcd directly
from the file.</p>
<p>Contents of example.eskip:</p>
<div class="codehilite"><pre><span></span><span class="nt">hello</span><span class="o">:</span> <span class="o">*</span> <span class="nt">-</span><span class="o">&gt;</span> <span class="nt">status</span><span class="o">(</span><span class="nt">200</span><span class="o">)</span> <span class="nt">-</span><span class="o">&gt;</span> <span class="nt">inlineContent</span><span class="o">(</span><span class="s2">&quot;Hello, world!&quot;</span><span class="o">)</span> <span class="nt">-</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nt">shunt</span><span class="o">&gt;;</span>
<span class="nt">helloTest</span><span class="o">:</span> <span class="nt">Path</span><span class="o">(</span><span class="s2">&quot;/test&quot;</span><span class="o">)</span> <span class="nt">-</span><span class="o">&gt;</span> <span class="nt">status</span><span class="o">(</span><span class="nt">200</span><span class="o">)</span> <span class="nt">-</span><span class="o">&gt;</span> <span class="nt">inlineContent</span><span class="o">(</span><span class="s2">&quot;Hello, test!&quot;</span><span class="o">)</span> <span class="nt">-</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nt">shunt</span><span class="o">&gt;;</span>
</pre></div>

<p>Updating those routes in etcd that are defined in the file, or inserting them from the file in case they don&rsquo;t
exist in etcd, yet:</p>
<div class="codehilite"><pre><span></span>eskip upsert -etcd-urls http://localhost:2379,http://localhost:4001 example.eskip
</pre></div>

<p>The above command won&rsquo;t modify or delete those routes, whose ID is missing from example.eskip. To fully sync a
set of routes from a file to etcd, use the reset subcommand:</p>
<div class="codehilite"><pre><span></span>eskip reset -etcd-urls http://localhost:2379,http://localhost:4001 example.eskip
</pre></div>

<p>For more information see the <a href="https://godoc.org/github.com/zalando/skipper/cmd/eskip">documentation</a> or <code>eskip -help</code>.</p>
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../eskip-file/" title="Eskip File" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Eskip File
              </span>
            </div>
          </a>
        
        
          <a href="../kubernetes/" title="Kubernetes" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Kubernetes
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.5e60981f.js"></script>
      
      <script>app.initialize({version:"1.0.1",url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>